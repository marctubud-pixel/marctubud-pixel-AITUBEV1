{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/marc/AITUBE-NEW/marctubud-pixel-AITUBEV1/utils/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\n\nexport function createClient() {\n  return createBrowserClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n  )\n}\n"],"names":[],"mappings":";;;;AAII;AAJJ;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,oMAAmB;AAI5B"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/marc/AITUBE-NEW/marctubud-pixel-AITUBEV1/app/actions/generate.ts"],"sourcesContent":["'use server'\n\nimport { createClient } from '@/utils/supabase/server'\nimport { revalidatePath } from 'next/cache'\n\nexport async function generateShotImage(shotId: string, prompt: string, projectId: string) {\n  console.log(\"ğŸš€ [AI] å¼€å§‹ç”Ÿæˆé•œå¤´:\", shotId);\n\n  try {\n    const supabase = await createClient();\n\n    // 1. ä½¿ç”¨ Pollinations AI ç”Ÿæˆ (å…è´¹ã€æ— éœ€ Key)\n    // å®ƒæ˜¯é€šè¿‡ URL ç›´æ¥è¿”å›å›¾ç‰‡çš„ï¼Œéå¸¸æ–¹ä¾¿\n    // æˆ‘ä»¬å¯¹ prompt è¿›è¡Œç¼–ç ï¼Œé˜²æ­¢ç‰¹æ®Šå­—ç¬¦æŠ¥é”™\n    const encodedPrompt = encodeURIComponent(prompt + \", cinematic lighting, 8k, photorealistic\");\n    const imageUrl = `https://image.pollinations.ai/prompt/${encodedPrompt}?width=1280&height=720&model=flux`; // ä½¿ç”¨ flux æ¨¡å‹ï¼Œæ•ˆæœæ›´å¥½\n\n    console.log(\"ğŸ¨ è¯·æ±‚ Pollinations:\", imageUrl);\n\n    // 2. ä¸‹è½½ç”Ÿæˆçš„å›¾ç‰‡ (è·å–äºŒè¿›åˆ¶æµ)\n    const response = await fetch(imageUrl);\n    \n    if (!response.ok) {\n        throw new Error(`å›¾ç‰‡ç”Ÿæˆå¤±è´¥: ${response.statusText}`);\n    }\n\n    const arrayBuffer = await response.arrayBuffer();\n    const imageBuffer = Buffer.from(arrayBuffer);\n\n    // 3. ä¸Šä¼ åˆ° Supabase Storage\n    const fileName = `${projectId}/${shotId}_${Date.now()}.png`;\n\n    const { data: uploadData, error: uploadError } = await supabase\n      .storage\n      .from('shots')\n      .upload(fileName, imageBuffer, {\n        contentType: 'image/png',\n        upsert: true\n      });\n\n    if (uploadError) {\n        console.error(\"Storage Upload Error:\", uploadError);\n        throw new Error(\"å›¾ç‰‡ä¸Šä¼ åˆ°å­˜å‚¨æ¡¶å¤±è´¥\");\n    }\n\n    // 4. è·å–å…¬å¼€é“¾æ¥\n    const { data: { publicUrl } } = supabase\n      .storage\n      .from('shots')\n      .getPublicUrl(fileName);\n\n    // 5. æ›´æ–°æ•°æ®åº“\n    const { error: dbError } = await supabase\n      .from('shots')\n      .update({\n        image_url: publicUrl,\n        status: 'completed'\n      })\n      .eq('id', shotId);\n\n    if (dbError) throw dbError;\n\n    console.log(\"âœ… [AI] ç”Ÿæˆå¹¶ä¸Šä¼ æˆåŠŸ:\", publicUrl);\n    return { success: true, url: publicUrl };\n\n  } catch (error: any) {\n    console.error(\"ğŸ”¥ [AI Fail]:\", error);\n    \n    // å¤±è´¥æ—¶è®°å½•çŠ¶æ€\n    const supabase = await createClient();\n    await supabase.from('shots').update({ status: 'failed' }).eq('id', shotId);\n\n    return { success: false, message: error.message };\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAKsB,oBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///Users/marc/AITUBE-NEW/marctubud-pixel-AITUBEV1/app/tools/cineflow/%5Bid%5D/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter, useParams } from 'next/navigation' \nimport { createClient } from '@/utils/supabase/client'\nimport { generateShotImage } from '@/app/actions/generate' // âœ… å¼•å…¥çœŸå® AI ç”ŸæˆæœåŠ¡\nimport { ArrowLeft, Plus, Image as ImageIcon, Wand2, Trash2, Video, Loader2 } from 'lucide-react'\nimport { toast, Toaster } from 'sonner'\nimport Link from 'next/link'\n\n// å®šä¹‰ç±»å‹\ntype Shot = {\n  id: string\n  description: string\n  image_prompt: string\n  image_url: string | null\n  shot_type: string\n  sort_order: number\n}\n\ntype Project = {\n  id: string\n  title: string\n  description: string\n}\n\nexport default function ProjectEditor() {\n  // âœ… ä½¿ç”¨ useParams å®‰å…¨è·å– ID\n  const params = useParams()\n  const projectId = Array.isArray(params?.id) ? params?.id[0] : params?.id\n\n  const router = useRouter()\n  const supabase = createClient()\n  \n  const [project, setProject] = useState<Project | null>(null)\n  const [shots, setShots] = useState<Shot[]>([])\n  const [loading, setLoading] = useState(true)\n  \n  // ä¸´æ—¶çŠ¶æ€\n  const [generatingId, setGeneratingId] = useState<string | null>(null)\n\n  // 1. åˆå§‹åŒ–åŠ è½½\n  useEffect(() => {\n    if (projectId) {\n      fetchProjectData()\n    }\n  }, [projectId])\n\n  const fetchProjectData = async () => {\n    if (!projectId) return\n\n    try {\n      // è·å–é¡¹ç›®ä¿¡æ¯\n      const { data: pData, error: pError } = await supabase\n        .from('projects')\n        .select('*')\n        .eq('id', projectId)\n        .single()\n      \n      if (pError) throw pError\n      setProject(pData)\n\n      // è·å–é•œå¤´åˆ—è¡¨\n      const { data: sData, error: sError } = await supabase\n        .from('shots')\n        .select('*')\n        .eq('project_id', projectId) \n        .order('sort_order', { ascending: true })\n      \n      if (sError) throw sError\n      setShots(sData || [])\n\n    } catch (error) {\n      console.error(error)\n      toast.error('åŠ è½½é¡¹ç›®å¤±è´¥ï¼ŒIDå¯èƒ½æ— æ•ˆ')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // 2. æ·»åŠ æ–°é•œå¤´\n  const handleAddShot = async () => {\n    if (!project || !projectId) {\n        toast.error('é¡¹ç›®æœªåŠ è½½å®Œæˆï¼Œè¯·ç¨åå†è¯•');\n        return;\n    }\n\n    try {\n      // =========================================================\n      // âœ… è‡ªåŠ¨å¡«å……ä½ çš„ User UUID\n      // =========================================================\n      const userId = 'cec386b5-e80a-4105-aa80-d8d5b8b0a9bf'; \n      // =========================================================\n      \n      const newOrder = shots.length + 1\n      const { data, error } = await supabase\n        .from('shots')\n        .insert({\n          project_id: projectId,\n          user_id: userId,\n          sort_order: newOrder,\n          description: '',\n          shot_type: 'ä¸­æ™¯ (Medium Shot)'\n        })\n        .select()\n        .single()\n\n      if (error) throw error\n      setShots([...shots, data])\n      toast.success('é•œå¤´å·²æ·»åŠ ')\n    } catch (error: any) {\n      console.error(error)\n      toast.error('æ·»åŠ å¤±è´¥: ' + (error.message || 'æœªçŸ¥é”™è¯¯'))\n    }\n  }\n\n  // 3. æ›´æ–°é•œå¤´å†…å®¹\n  const handleUpdateShot = async (id: string, field: string, value: string) => {\n    setShots(prev => prev.map(s => s.id === id ? { ...s, [field]: value } : s))\n    await supabase.from('shots').update({ [field]: value }).eq('id', id)\n  }\n\n  // 4. åˆ é™¤é•œå¤´\n  const handleDeleteShot = async (id: string) => {\n    if(!confirm('ç¡®å®šåˆ é™¤æ­¤é•œå¤´ï¼Ÿ')) return\n    try {\n      await supabase.from('shots').delete().eq('id', id)\n      setShots(prev => prev.filter(s => s.id !== id))\n      toast.success('å·²åˆ é™¤')\n    } catch (error) {\n      toast.error('åˆ é™¤å¤±è´¥')\n    }\n  }\n\n  // 5. çœŸå® AI ç”Ÿæˆ (è°ƒè¯•æ¨¡å¼ï¼šæ˜¾ç¤ºå…·ä½“é”™è¯¯)\n  const handleGenerate = async (shot: Shot) => {\n    if (!shot.image_prompt) {\n      toast.error('è¯·å…ˆå¡«å†™æç¤ºè¯ (Prompt)')\n      return\n    }\n    \n    // å¦‚æœæ²¡æœ‰é¡¹ç›®IDï¼Œæ— æ³•æ•´ç†æ–‡ä»¶å¤¹\n    if (!projectId) return;\n\n    setGeneratingId(shot.id)\n    toast.info('æ­£åœ¨è¯·æ±‚ AI ç»˜å›¾ (Gemini)...')\n\n    try {\n        // è°ƒç”¨ Server Action (åç«¯ç”Ÿæˆ + ä¸Šä¼ )\n        const res = await generateShotImage(shot.id, shot.image_prompt, projectId);\n\n        if (res.success && res.url) {\n            // æ›´æ–°æœ¬åœ°è§†å›¾\n            setShots(prev => prev.map(s => s.id === shot.id ? { \n                ...s, \n                image_url: res.url,\n                status: 'completed' \n            } : s));\n            toast.success('ç”»é¢ç”Ÿæˆå®Œæˆï¼');\n        } else {\n            // âŒ è¿™é‡Œæ˜¯æœåŠ¡å™¨æ˜ç¡®è¿”å›çš„é”™è¯¯ (æ¯”å¦‚ API Key æ— æ•ˆ)\n            console.error(\"Server Error:\", res.message);\n            toast.error('æœåŠ¡å™¨æŠ¥é”™: ' + res.message);\n        }\n    } catch (error: any) {\n        // âŒ è¿™é‡Œæ˜¯ç½‘ç»œæˆ–ç³»ç»Ÿçº§å´©æºƒ (æ¯”å¦‚ 500 é”™è¯¯)\n        console.error(\"Client Catch:\", error);\n        toast.error('è¯·æ±‚å´©æºƒ: ' + (error.message || JSON.stringify(error)));\n    } finally {\n        setGeneratingId(null);\n    }\n  }\n\n  if (loading) return (\n    <div className=\"min-h-screen bg-black text-white flex items-center justify-center gap-2\">\n        <Loader2 className=\"animate-spin\" /> åŠ è½½ç¼–è¾‘å™¨...\n    </div>\n  )\n\n  return (\n    <div className=\"min-h-screen bg-[#0A0A0A] text-white flex flex-col\">\n      <Toaster position=\"top-center\" richColors />\n\n      {/* é¡¶éƒ¨å¯¼èˆª */}\n      <div className=\"h-16 border-b border-white/10 flex items-center justify-between px-6 bg-[#111]\">\n        <div className=\"flex items-center gap-4\">\n          <Link href=\"/tools/cineflow\" className=\"text-gray-400 hover:text-white transition-colors\">\n            <ArrowLeft className=\"w-5 h-5\" />\n          </Link>\n          <div className=\"flex flex-col\">\n            <span className=\"text-[10px] text-gray-500 font-bold uppercase tracking-wider\">PROJECT</span>\n            <input \n              value={project?.title || ''} \n              onChange={(e) => {\n                if(project) setProject({...project, title: e.target.value})\n              }}\n              className=\"bg-transparent font-bold text-lg focus:outline-none text-white w-64 placeholder-gray-600\"\n              placeholder=\"æœªå‘½åé¡¹ç›®...\"\n            />\n          </div>\n        </div>\n        <div className=\"flex gap-2\">\n           <button className=\"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-all\">\n             <Video className=\"w-4 h-4\" /> å¯¼å‡ºè§†é¢‘\n           </button>\n        </div>\n      </div>\n\n      {/* ä¸»å·¥ä½œåŒº */}\n      <div className=\"flex-1 overflow-y-auto p-6 max-w-5xl mx-auto w-full space-y-8 pb-32\">\n        \n        {shots.length === 0 && (\n          <div className=\"text-center py-20 border border-dashed border-white/10 rounded-xl bg-white/5 mt-10\">\n             <div className=\"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <ImageIcon className=\"w-8 h-8 text-gray-500\" />\n             </div>\n             <h3 className=\"text-lg font-bold mb-2\">ä½ çš„æ•…äº‹æ¿æ˜¯ç©ºçš„</h3>\n             <p className=\"text-gray-500 mb-6 text-sm\">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æ·»åŠ ä½ çš„ç¬¬ä¸€ä¸ªé•œå¤´</p>\n             <button onClick={handleAddShot} className=\"bg-white text-black hover:bg-gray-200 px-6 py-2 rounded-full font-bold transition-all\">\n               + æ·»åŠ ç¬¬ä¸€ä¸ªé•œå¤´\n             </button>\n          </div>\n        )}\n\n        {shots.map((shot, index) => (\n          <div key={shot.id} className=\"flex flex-col md:flex-row gap-6 bg-[#151515] p-6 rounded-xl border border-white/5 hover:border-purple-500/30 transition-all group relative\">\n            \n            {/* å·¦ä¾§ï¼šåºå·ä¸æ“ä½œ */}\n            <div className=\"flex md:flex-col justify-between items-center md:items-start gap-4 md:w-12 border-b md:border-b-0 md:border-r border-white/5 pb-4 md:pb-0 md:pr-4\">\n              <span className=\"text-2xl font-black text-white/10 select-none\">#{index + 1}</span>\n              <button onClick={() => handleDeleteShot(shot.id)} className=\"text-gray-600 hover:text-red-500 transition-colors p-1 rounded hover:bg-white/5\">\n                <Trash2 className=\"w-4 h-4\" />\n              </button>\n            </div>\n\n            {/* ä¸­é—´ï¼šæ–‡æœ¬è„šæœ¬ */}\n            <div className=\"flex-1 space-y-4\">\n              <div>\n                <label className=\"text-[10px] font-bold text-gray-500 uppercase mb-1.5 block\">é•œå¤´æè¿° (Story)</label>\n                <textarea \n                  className=\"w-full bg-black/30 border border-white/10 rounded-lg p-3 text-sm focus:border-purple-500 focus:outline-none transition-colors min-h-[80px] resize-y placeholder-gray-700\"\n                  placeholder=\"ä¾‹å¦‚ï¼šä¸»è§’ç«™åœ¨é›¨ä¸­ï¼ŒæŠ¬å¤´æœ›å‘éœ“è™¹ç¯æ‹›ç‰Œ...\"\n                  value={shot.description || ''}\n                  onChange={(e) => handleUpdateShot(shot.id, 'description', e.target.value)}\n                />\n              </div>\n\n              <div>\n                <label className=\"text-[10px] font-bold text-purple-400 uppercase mb-1.5 block flex items-center gap-1.5\">\n                  <Wand2 className=\"w-3 h-3\" /> AI æç¤ºè¯ (Prompt)\n                </label>\n                <textarea \n                  className=\"w-full bg-purple-900/10 border border-purple-500/20 rounded-lg p-3 text-sm focus:border-purple-500 focus:outline-none transition-colors min-h-[80px] font-mono text-purple-200 placeholder-purple-900/50 resize-y\"\n                  placeholder=\"Cinematic shot, cyberpunk city, rain, neon lights, medium shot...\"\n                  value={shot.image_prompt || ''}\n                  onChange={(e) => handleUpdateShot(shot.id, 'image_prompt', e.target.value)}\n                />\n              </div>\n\n              <div className=\"flex gap-2\">\n                <select \n                  className=\"bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-400 focus:border-white/30 focus:outline-none\"\n                  value={shot.shot_type}\n                  onChange={(e) => handleUpdateShot(shot.id, 'shot_type', e.target.value)}\n                >\n                  <option>è¿œæ™¯ (Wide Shot)</option>\n                  <option>å…¨æ™¯ (Full Shot)</option>\n                  <option>ä¸­æ™¯ (Medium Shot)</option>\n                  <option>ç‰¹å†™ (Close-up)</option>\n                  <option>å¤§ç‰¹å†™ (Extreme Close-up)</option>\n                </select>\n              </div>\n            </div>\n\n            {/* å³ä¾§ï¼šç”»é¢é¢„è§ˆ */}\n            <div className=\"w-full md:w-[320px] lg:w-[400px] flex-shrink-0\">\n               <div className=\"aspect-video bg-black rounded-lg overflow-hidden relative border border-white/10 group-hover:border-white/20 transition-colors\">\n                 {shot.image_url ? (\n                   <img src={shot.image_url} className=\"w-full h-full object-cover\" />\n                 ) : (\n                   <div className=\"absolute inset-0 flex flex-col items-center justify-center text-gray-700\">\n                     <ImageIcon className=\"w-12 h-12 mb-2 opacity-20\" />\n                     <span className=\"text-xs font-medium opacity-50\">ç­‰å¾…ç”Ÿæˆ</span>\n                   </div>\n                 )}\n\n                 {/* ç”ŸæˆæŒ‰é’® */}\n                 <div className=\"absolute bottom-4 right-4 z-10\">\n                   <button \n                     onClick={() => handleGenerate(shot)}\n                     disabled={generatingId === shot.id}\n                     className=\"bg-white/90 hover:bg-white text-black px-4 py-2 rounded-full text-xs font-bold shadow-xl flex items-center gap-2 transition-all disabled:opacity-50 hover:scale-105 active:scale-95\"\n                   >\n                     {generatingId === shot.id ? <Loader2 className=\"w-3 h-3 animate-spin\"/> : <Wand2 className=\"w-3 h-3 text-purple-600\"/>}\n                     {generatingId === shot.id ? 'ç”Ÿæˆä¸­...' : 'ç”Ÿæˆç”»é¢'}\n                   </button>\n                 </div>\n                 \n                 {/* é®ç½© */}\n                 <div className=\"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent pointer-events-none opacity-50\"></div>\n               </div>\n            </div>\n\n          </div>\n        ))}\n\n        {/* åº•éƒ¨æ·»åŠ æŒ‰é’® */}\n        {shots.length > 0 && (\n            <button \n            onClick={handleAddShot}\n            className=\"w-full py-6 border border-dashed border-white/10 rounded-xl text-gray-500 hover:text-white hover:border-white/30 hover:bg-white/5 transition-all flex items-center justify-center gap-2 font-bold group\"\n            >\n            <Plus className=\"w-5 h-5 group-hover:scale-110 transition-transform\" /> æ·»åŠ ä¸‹ä¸€ä¸ªé•œå¤´\n            </button>\n        )}\n\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}