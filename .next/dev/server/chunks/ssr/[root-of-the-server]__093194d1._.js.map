{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/marc/AITUBE-NEW/marctubud-pixel-AITUBEV1/utils/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\n\nexport function createClient() {\n  return createBrowserClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,iMAAmB;AAI5B"}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///Users/marc/AITUBE-NEW/marctubud-pixel-AITUBEV1/app/tools/cineflow/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { createClient } from '@/utils/supabase/client'\nimport { Plus, Film, Trash2, Loader2, Calendar, ArrowRight } from 'lucide-react'\nimport { toast, Toaster } from 'sonner'\nimport Link from 'next/link'\n\n// ÂÆö‰πâÈ°πÁõÆÁ±ªÂûã\ntype Project = {\n  id: string\n  title: string\n  description: string | null\n  updated_at: string\n}\n\nexport default function CineFlowDashboard() {\n  const router = useRouter()\n  const supabase = createClient()\n  \n  const [projects, setProjects] = useState<Project[]>([])\n  const [loading, setLoading] = useState(true)\n  const [isCreating, setIsCreating] = useState(false)\n\n  // 1. Âä†ËΩΩÈ°πÁõÆÂàóË°®\n  useEffect(() => {\n    fetchProjects()\n  }, [])\n\n  const fetchProjects = async () => {\n    try {\n      // Â∞ùËØïËé∑ÂèñÁî®Êà∑Ôºå‰ΩÜÂ∞±ÁÆóËé∑ÂèñÂ§±Ë¥•‰πü‰∏çË¶ÅË∑≥ËΩ¨\n      const { data: { user } } = await supabase.auth.getUser()\n      \n      // üõë ‰πãÂâçÁöÑÂº∫Âà∂Ë∑≥ËΩ¨ÈÄªËæëÂ∑≤ÁßªÈô§ÔºåÈò≤Ê≠¢Ê≠ªÂæ™ÁéØ\n      // if (!user) router.push('/login') \n\n      const { data, error } = await supabase\n        .from('projects')\n        .select('*')\n        .order('updated_at', { ascending: false })\n\n      if (error) throw error\n      setProjects(data || [])\n    } catch (error) {\n      console.error('Âä†ËΩΩÂ§±Ë¥•:', error)\n      // toast.error('Êó†Ê≥ïÂä†ËΩΩÈ°πÁõÆÂàóË°®') // ÂèØÈÄâÔºöÂ±èËîΩÊä•Èîô‰ª•ÂÖçÂ§™Âêµ\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // 2. Êñ∞Âª∫È°πÁõÆ (Ê†∏ÂøÉ‰øÆÊîπÔºöÁ°¨ÁºñÁ†Å ID)\n  const handleCreateProject = async () => {\n    try {\n      setIsCreating(true)\n      \n      // =========================================================\n      // üõë ÁªïËøá Auth Ê£ÄÊü•Ôºå‰ΩøÁî®Á°¨ÁºñÁ†Å ID\n      // =========================================================\n      \n      // üëáüëáüëá „ÄêÈáçË¶Å„ÄëËØ∑Êää‰∏ãÈù¢ÁöÑÂ≠óÁ¨¶‰∏≤Êç¢Êàê‰Ω†ÁöÑÁúüÂÆû User UUID üëáüëáüëá\n      const userId = 'cec386b5-e80a-4105-aa80-d8d5b8b0a9bf'; \n      \n      // =========================================================\n\n      if (userId.includes('ËØ∑Âú®ËøôÈáå')) {\n        toast.error('ËØ∑ÂÖàÂú®‰ª£Á†ÅÈáåÂ°´ÂÖ•‰Ω†ÁöÑ User UUIDÔºÅ');\n        return;\n      }\n\n      // ÂàõÂª∫‰∏Ä‰∏™ÈªòËÆ§È°πÁõÆ\n      const { data, error } = await supabase\n        .from('projects')\n        .insert({\n          user_id: userId, // <--- ‰ΩøÁî®Âº∫Âà∂ ID\n          title: 'Êú™ÂëΩÂêçÂàÜÈïúÈ°πÁõÆ',\n          description: 'ËøôÊòØ‰∏Ä‰∏™Êñ∞ÁöÑÂàõÊÑè...',\n          status: 'draft'\n        })\n        .select()\n        .single()\n\n      if (error) throw error\n\n      toast.success('È°πÁõÆÂàõÂª∫ÊàêÂäüÔºÅ')\n      // Ë∑≥ËΩ¨Âà∞ÁºñËæëÂô®È°µÈù¢\n      router.push(`/tools/cineflow/${data.id}`)\n\n    } catch (error: any) {\n      console.error('ÂàõÂª∫Â§±Ë¥•:', error)\n      toast.error(error.message || 'ÂàõÂª∫È°πÁõÆÂ§±Ë¥•')\n    } finally {\n      setIsCreating(false)\n    }\n  }\n\n  // 3. Âà†Èô§È°πÁõÆ\n  const handleDelete = async (id: string, e: React.MouseEvent) => {\n    e.preventDefault() \n    if (!confirm('Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™È°πÁõÆÂêóÔºüÂà†Èô§ÂêéÊó†Ê≥ïÊÅ¢Â§ç„ÄÇ')) return\n\n    try {\n      const { error } = await supabase.from('projects').delete().eq('id', id)\n      if (error) throw error\n      \n      setProjects(prev => prev.filter(p => p.id !== id))\n      toast.success('Â∑≤Âà†Èô§')\n    } catch (error) {\n      toast.error('Âà†Èô§Â§±Ë¥•')\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-black text-white p-6 md:p-12\">\n      <Toaster position=\"top-center\" richColors />\n      \n      <div className=\"max-w-6xl mx-auto\">\n        {/* Â§¥ÈÉ® */}\n        <div className=\"flex items-center justify-between mb-12\">\n          <div>\n            <h1 className=\"text-3xl font-bold bg-gradient-to-r from-purple-400 to-blue-500 bg-clip-text text-transparent mb-2\">\n              CineFlow Â∑•‰ΩúÂè∞\n            </h1>\n            <p className=\"text-gray-400\">ÁÆ°ÁêÜ‰Ω†ÁöÑ AI ÂàÜÈïúÈ°πÁõÆ</p>\n          </div>\n          \n          <div className=\"flex gap-4 items-center\">\n            {/* Êñ∞Â¢ûÔºöÊâãÂä®ÁôªÂΩïÂÖ•Âè£ (Èò≤Ê≠¢Êó†Ë∑ØÂèØÈÄÄ) */}\n            <Link href=\"/login\" className=\"text-gray-500 hover:text-white text-sm transition-colors\">\n               ÁôªÂΩï / ÂàáÊç¢Ë¥¶Âè∑\n            </Link>\n\n            <button\n              onClick={handleCreateProject}\n              disabled={isCreating}\n              className=\"bg-white text-black hover:bg-gray-200 px-6 py-2.5 rounded-full font-bold flex items-center gap-2 transition-all disabled:opacity-50\"\n            >\n              {isCreating ? <Loader2 className=\"animate-spin w-4 h-4\"/> : <Plus className=\"w-4 h-4\"/>}\n              Êñ∞Âª∫È°πÁõÆ\n            </button>\n          </div>\n        </div>\n\n        {/* ÂàóË°®Âå∫Âüü */}\n        {loading ? (\n          <div className=\"flex justify-center py-20\">\n            <Loader2 className=\"animate-spin text-purple-500 w-8 h-8\" />\n          </div>\n        ) : projects.length === 0 ? (\n          // Á©∫Áä∂ÊÄÅ\n          <div className=\"text-center py-20 border border-white/10 rounded-2xl bg-white/5 border-dashed\">\n            <div className=\"w-16 h-16 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <Film className=\"w-8 h-8 text-gray-400\" />\n            </div>\n            <h3 className=\"text-xl font-bold mb-2\">ËøòÊ≤°ÊúâÈ°πÁõÆ</h3>\n            <p className=\"text-gray-500 mb-6\">ÂàõÂª∫‰∏Ä‰∏™Êñ∞È°πÁõÆÔºåÂºÄÂßã‰Ω†ÁöÑÂØºÊºî‰πãË∑Ø</p>\n            <button\n              onClick={handleCreateProject}\n              className=\"text-purple-400 hover:text-purple-300 font-bold flex items-center gap-1 mx-auto\"\n            >\n              Á´ãÂç≥ÂàõÂª∫ <ArrowRight className=\"w-4 h-4\" />\n            </button>\n          </div>\n        ) : (\n          // È°πÁõÆÁΩëÊ†º\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {projects.map(project => (\n              <Link \n                href={`/tools/cineflow/${project.id}`} \n                key={project.id}\n                className=\"group relative bg-[#151515] border border-white/10 rounded-xl p-6 hover:border-purple-500/50 transition-all hover:-translate-y-1\"\n              >\n                <div className=\"flex justify-between items-start mb-4\">\n                  <div className=\"w-10 h-10 bg-purple-900/30 rounded-lg flex items-center justify-center text-purple-400 group-hover:bg-purple-600 group-hover:text-white transition-colors\">\n                    <Film className=\"w-5 h-5\" />\n                  </div>\n                  <button \n                    onClick={(e) => handleDelete(project.id, e)}\n                    className=\"text-gray-600 hover:text-red-500 p-2 transition-colors\"\n                    title=\"Âà†Èô§È°πÁõÆ\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                  </button>\n                </div>\n\n                <h3 className=\"text-xl font-bold mb-2 group-hover:text-purple-400 transition-colors line-clamp-1\">\n                  {project.title}\n                </h3>\n                <p className=\"text-gray-500 text-sm mb-6 line-clamp-2 min-h-[40px]\">\n                  {project.description || 'ÊöÇÊó†ÊèèËø∞'}\n                </p>\n\n                <div className=\"flex items-center text-xs text-gray-600 pt-4 border-t border-white/5\">\n                  <Calendar className=\"w-3 h-3 mr-1\" />\n                  <span>Êõ¥Êñ∞‰∫é {new Date(project.updated_at).toLocaleDateString()}</span>\n                </div>\n              </Link>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}