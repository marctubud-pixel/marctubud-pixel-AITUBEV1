# AI.Tube é¡¹ç›®æ ¸å¿ƒä¸Šä¸‹æ–‡ (Project Context)

## 1. é¡¹ç›®ç®€ä»‹
- **åç§°**: AI.Tube (my-ai-video-planet)
- **ç›®æ ‡**: AI è§†é¢‘å†…å®¹èšåˆå¹³å°ï¼Œæä¾›è§†é¢‘å±•ç¤ºã€æ•™ç¨‹å…³è”ã€åˆ†é•œä¸‹è½½ã€‚
- **æŠ€æœ¯æ ˆ**: Next.js 15 (App Router), Tailwind CSS, Supabase (PostgreSQL + Auth + Storage), Lucide React.
- **éƒ¨ç½²**: Vercel + é˜¿é‡Œäº‘åŸŸå (www.aipian.top).

## 2. æ ¸å¿ƒæ–‡ä»¶ç»“æ„
- `app/page.tsx`: é¦–é¡µ (å…¨å±5åˆ—å¸ƒå±€, Bannerè½®æ’­, æ™ºèƒ½ç­›é€‰, æ’­æ”¾é‡è½¬ä¸‡).
- `app/video/[id]/page.tsx`: è§†é¢‘è¯¦æƒ…é¡µ (Bç«™/MP4æ··åˆæ’­æ”¾å™¨, å…³è”æ•™ç¨‹æŒ‰é’®, å®æ—¶äººæ°”å€¼).
- `app/admin/dashboard/page.tsx`: è§†é¢‘ç®¡ç†åå° (Bç«™ä¸€é”®æŠ“å–, å¤šå·¥å…·è¯†åˆ«, 7å¤§åˆ†ç±», çƒ­é—¨/ç²¾é€‰/è·å¥–å¼€å…³).
- `app/admin/banners/page.tsx`: Banner ç®¡ç†åå° (ç›´æ¥ä¸Šä¼ å›¾ç‰‡, æƒé‡æ’åº, ä¼šå‘˜æ ‡).
- `app/api/fetch-bilibili/route.ts`: Bç«™æŠ“å–æ¥å£ (æ”¯æŒæ’­æ”¾é‡åŒæ­¥, å¤šå·¥å…·Tagæå–).

## 3. æ•°æ®åº“ç»“æ„ (Supabase)

### è¡¨å: `videos`
- `id` (int8): ä¸»é”®
- `title` (text): æ ‡é¢˜
- `author` (text): ä½œè€…
- `video_url` (text): è§†é¢‘é“¾æ¥ (Bç«™iframeæˆ–mp4)
- `thumbnail_url` (text): å°é¢å›¾ (éœ€åŠ  referrerPolicy="no-referrer")
- `category` (text): åˆ†ç±» (åŠ¨ç”»çŸ­ç‰‡, å®éªŒçŸ­ç‰‡, éŸ³ä¹MV, å†™å®çŸ­ç‰‡, åˆ›æ„å¹¿å‘Š, AIæ•™ç¨‹, åˆ›æ„çŸ­ç‰‡)
- `tag` (text): å·¥å…·æ ‡ç­¾ (Sora, Runway, Pika...)
- `prompt` (text): æç¤ºè¯
- `views` (int4): æ’­æ”¾é‡ (æ•°å­—)
- `is_hot` (bool): ğŸ”¥ è¿‘æœŸçƒ­é—¨
- `is_selected` (bool): ğŸ† ç¼–è¾‘ç²¾é€‰
- `is_award` (bool): ğŸ¥‡ è·å¥–ä½œå“
- `tutorial_url` (text): å…³è”æ•™ç¨‹é“¾æ¥
- `created_at`: åˆ›å»ºæ—¶é—´

### è¡¨å: `banners`
- `id` (int8)
- `title`, `image_url`, `link_url`
- `tag` (text): è§’æ ‡ (å¦‚: ä¼šå‘˜, ç‹¬å®¶)
- `is_active` (bool): æ˜¯å¦å¯ç”¨
- `is_vip` (bool): ä¼šå‘˜ä¸“äº«
- `sort_order` (int4): æ’åºæƒé‡

### å…¶ä»–è¡¨
- `profiles`: ç”¨æˆ·ä¿¡æ¯ (points, free_quota)
- `favorites`, `comments`, `downloads`: å…³è”è¡¨ (å·²å¼€å¯ Cascade Delete)

## 4. å…³é”®ä¸šåŠ¡é€»è¾‘
1.  **æŠ“å–é€»è¾‘**: API è‡ªåŠ¨æŠ“å– B ç«™ä¿¡æ¯ï¼Œè‡ªåŠ¨è¯†åˆ«å·¥å…· (Tag)ï¼Œä½†**ä¸è‡ªåŠ¨è¦†ç›–åˆ†ç±»** (Category)ï¼Œéœ€äººå·¥é€‰æ‹©ã€‚
2.  **å‰ç«¯å±•ç¤º**: é¦–é¡µåˆ†ç±»æ ä¸åŒ…å«â€œç²¾é€‰/è·å¥–â€ï¼Œè¿™ä¸¤ä¸ªä½œä¸ºç‹¬ç«‹ç­›é€‰æŒ‰é’®å­˜åœ¨ã€‚å¡ç‰‡å³ä¸Šè§’æ˜¾ç¤ºè£èª‰å¾½ç« ï¼Œå·¦ä¸Šè§’æ˜¾ç¤ºå…·ä½“åˆ†ç±»ã€‚
3.  **é˜²ç›—é“¾**: æ‰€æœ‰ B ç«™å›¾ç‰‡å¿…é¡»åŠ  `referrerPolicy="no-referrer"`ã€‚
4.  **ç®¡ç†å‘˜**: ä»…é™ `marctubud@gmail.com` (æˆ– `782567903@qq.com`) è®¿é—®åå°ã€‚


## 5. é¡¹ç›®è·¯çº¿å›¾ (Roadmap)
### âœ… å·²å®Œæˆ (Phase 1)
- [x] åŸºç¡€å±•ç¤ºä¸æ’­æ”¾ (Bç«™/MP4)
- [x] å®Œæ•´åå°ç®¡ç† (è§†é¢‘+Banner, è‡ªåŠ¨æŠ“å–)
- [x] å…³è”æ•™ç¨‹åŠŸèƒ½
- [x] é¦–é¡µ UI ç»†è°ƒ (5åˆ—, å»é‡, è§’æ ‡ä¼˜åŒ–)

### ğŸš§ è¿›è¡Œä¸­/ä¸‹å‘¨è®¡åˆ’ (Phase 2 - è¿è¥ä¸ç¤¾åŒº)
1.  **ç”¨æˆ·ä½“ç³»**: 
    - å®ç°æ¯æ—¥ç­¾åˆ°é€ç§¯åˆ†ã€‚
    - ä¸ªäººä¸­å¿ƒ (`/profile`) æ˜¾ç¤ºç§¯åˆ†ã€æ”¶è—ã€ä¸‹è½½è®°å½•ã€‚
2.  **äº’åŠ¨å¢å¼º**:
    - è¯„è®ºåŒºæ˜¾ç¤ºçœŸå®å¤´åƒæ˜µç§°ã€‚
    - ç‚¹èµå¢åŠ åŠ¨ç”»æ•ˆæœã€‚
3.  **UGC æŠ•ç¨¿**:
    - å¼€æ”¾ç”¨æˆ·æŠ•ç¨¿å…¥å£ (é»˜è®¤ `pending` çŠ¶æ€)ã€‚
    - åå°å¢åŠ â€œå®¡æ ¸åˆ—è¡¨â€ã€‚

### ğŸ“… è¿œæœŸè§„åˆ’ (Phase 3 - å•†ä¸šåŒ–)
- [ ] æ¥å…¥ Stripe/æ”¯ä»˜å® æ”¯ä»˜ã€‚
- [ ] æ¨å‡ºâ€œPro ä¼šå‘˜â€è®¢é˜…åˆ¶ (è§£é”ç‹¬å®¶è§†é¢‘/æ•™ç¨‹)ã€‚
- [ ] åˆ›ä½œè€…æ¿€åŠ±è®¡åˆ’ã€‚


